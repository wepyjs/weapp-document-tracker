<div class="book with-summary">

<div class="head">

<div class="head_box">

# [](javascript:; "_('微信公众平台 小程序')")

<div class="header_ctrls">

*   [介绍](javascript:;)
    *   [小程序介绍](https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html)
    *   [小游戏介绍](https://mp.weixin.qq.com/debug/wxagame/introduction/index.html)
*   [设计](https://mp.weixin.qq.com/debug/wxadoc/design/index.html)
*   [小游戏开发](javascript:;)
    *   [小程序开发](https://mp.weixin.qq.com/debug/wxadoc/dev/index.html)
    *   [小游戏开发](https://mp.weixin.qq.com/debug/wxagame/dev/index.html)
*   [运营](https://mp.weixin.qq.com/debug/wxadoc/product/index.html)
*   [数据](javascript:;)
    *   [小程序数据](https://mp.weixin.qq.com/debug/wxadoc/analysis/index.html)
    *   [小游戏数据](https://mp.weixin.qq.com/debug/wxagame/analysis/index.html)
*   [社区](https://developers.weixin.qq.com/)

</div>

</div>

</div>

<div class="sub_nav_box">

<div class="sub_nav_inner">

<div class="book-summary-opr" id="js-book-summary-opr"><a class="book-summary-btn"></a></div>

<div class="top_sub_nav">

<div class="top_title_wap"><span class="icon_title icon_dev"></span>

微信小游戏开发文档

</div>

*   [教程](../../)
*   [API](../render/canvas/wx.createCanvas.html)
*   [工具](../../devtools/devtools.html)
*   [腾讯云支持](../../qcloud/qcloud.html)

</div>

<div id="book-search-input" role="search">

<form><label for="search-input" class="search-icon" id="js-search-icon"></label><input type="text" id="search-input" name="search-input" placeholder="搜索"> </form>

</div>

</div>

</div>

<div class="book-summary">

<div class="book-summary-home" id="js-summary-home"><a><span class="icon_home_s icon_dev"></span><span class="s_title_2">开发文档首页</span></a></div>

<nav role="navigation">

*   [渲染](../render/canvas/wx.createCanvas.html)
    *   [画布](../render/canvas/wx.createCanvas.html)
        *   [wx.createCanvas](../render/canvas/wx.createCanvas.html)
        *   [Canvas](../render/canvas/Canvas.html)
        *   [RenderingContext](../render/canvas/RenderingContext.html)
        *   [Canvas.getContext](../render/canvas/Canvas.getContext.html)
        *   [Canvas.toTempFilePath](../render/canvas/Canvas.toTempFilePath.html)
        *   [Canvas.toDataURL](../render/canvas/Canvas.toDataURL.html)
        *   [Canvas.toTempFilePathSync](../render/canvas/Canvas.toTempFilePathSync.html)
        *   [WebGLRenderingContext.wxBindCanvasTexture](../render/canvas/WebGLRenderingContext.wxBindCanvasTexture.html)
    *   [图片](../render/image/wx.createImage.html)
        *   [wx.createImage](../render/image/wx.createImage.html)
        *   [Image](../render/image/Image.html)
    *   [字体](../render/font/wx.getTextLineHeight.html)
        *   [wx.getTextLineHeight](../render/font/wx.getTextLineHeight.html)
        *   [wx.loadFont](../render/font/wx.loadFont.html)
    *   [帧率](../render/frame/wx.setPreferredFramesPerSecond.html)
        *   [wx.setPreferredFramesPerSecond](../render/frame/wx.setPreferredFramesPerSecond.html)
        *   [cancelAnimationFrame](../render/frame/cancelAnimationFrame.html)
        *   [requestAnimationFrame](../render/frame/requestAnimationFrame.html)
*   [系统](../system/life-cycle/wx.exitMiniProgram.html)
    *   [生命周期](../system/life-cycle/wx.exitMiniProgram.html)
        *   [wx.exitMiniProgram](../system/life-cycle/wx.exitMiniProgram.html)
        *   [wx.getLaunchOptionsSync](../system/life-cycle/wx.getLaunchOptionsSync.html)
        *   [wx.onHide](../system/life-cycle/wx.onHide.html)
        *   [wx.offHide](../system/life-cycle/wx.offHide.html)
        *   [wx.onShow](../system/life-cycle/wx.onShow.html)
        *   [wx.offShow](../system/life-cycle/wx.offShow.html)
    *   [系统信息](../system/system-info/wx.getSystemInfo.html)
        *   [wx.getSystemInfo](../system/system-info/wx.getSystemInfo.html)
        *   [wx.getSystemInfoSync](../system/system-info/wx.getSystemInfoSync.html)
    *   [系统事件](../system/system-event/wx.onAudioInterruptionBegin.html)
        *   [wx.onAudioInterruptionBegin](../system/system-event/wx.onAudioInterruptionBegin.html)
        *   [wx.offAudioInterruptionBegin](../system/system-event/wx.offAudioInterruptionBegin.html)
        *   [wx.onAudioInterruptionEnd](../system/system-event/wx.onAudioInterruptionEnd.html)
        *   [wx.offAudioInterruptionEnd](../system/system-event/wx.offAudioInterruptionEnd.html)
        *   [wx.onError](../system/system-event/wx.onError.html)
        *   [wx.offError](../system/system-event/wx.offError.html)
    *   [触摸事件](../system/touch-event/wx.onTouchStart.html)
        *   [wx.onTouchStart](../system/touch-event/wx.onTouchStart.html)
        *   [wx.offTouchStart](../system/touch-event/wx.offTouchStart.html)
        *   [wx.onTouchMove](../system/touch-event/wx.onTouchMove.html)
        *   [wx.offTouchMove](../system/touch-event/wx.offTouchMove.html)
        *   [wx.onTouchEnd](../system/touch-event/wx.onTouchEnd.html)
        *   [wx.offTouchEnd](../system/touch-event/wx.offTouchEnd.html)
        *   [wx.onTouchCancel](../system/touch-event/wx.onTouchCancel.html)
        *   [wx.offTouchCancel](../system/touch-event/wx.offTouchCancel.html)
        *   [Touch](../system/touch-event/Touch.html)
*   [设备](../device/accelerometer/wx.onAccelerometerChange.html)
    *   [加速计](../device/accelerometer/wx.onAccelerometerChange.html)
        *   [wx.onAccelerometerChange](../device/accelerometer/wx.onAccelerometerChange.html)
        *   [wx.startAccelerometer](../device/accelerometer/wx.startAccelerometer.html)
        *   [wx.stopAccelerometer](../device/accelerometer/wx.stopAccelerometer.html)
    *   [电量](../device/battery/wx.getBatteryInfo.html)
        *   [wx.getBatteryInfo](../device/battery/wx.getBatteryInfo.html)
        *   [wx.getBatteryInfoSync](../device/battery/wx.getBatteryInfoSync.html)
    *   [剪贴板](../device/clipboard/wx.getClipboardData.html)
        *   [wx.getClipboardData](../device/clipboard/wx.getClipboardData.html)
        *   [wx.setClipboardData](../device/clipboard/wx.setClipboardData.html)
    *   [罗盘](../device/compass/wx.onCompassChange.html)
        *   [wx.onCompassChange](../device/compass/wx.onCompassChange.html)
        *   [wx.startCompass](../device/compass/wx.startCompass.html)
        *   [wx.stopCompass](../device/compass/wx.stopCompass.html)
    *   [网络](../device/network/wx.getNetworkType.html)
        *   [wx.getNetworkType](../device/network/wx.getNetworkType.html)
        *   [wx.onNetworkStatusChange](../device/network/wx.onNetworkStatusChange.html)
    *   [屏幕](../device/screen/wx.getScreenBrightness.html)
        *   [wx.getScreenBrightness](../device/screen/wx.getScreenBrightness.html)
        *   [wx.setKeepScreenOn](../device/screen/wx.setKeepScreenOn.html)
        *   [wx.setScreenBrightness](../device/screen/wx.setScreenBrightness.html)
    *   [振动](../device/vibrate/wx.vibrateShort.html)
        *   [wx.vibrateShort](../device/vibrate/wx.vibrateShort.html)
        *   [wx.vibrateLong](../device/vibrate/wx.vibrateLong.html)
    *   [转屏](../device/orientation/wx.onDeviceOrientationChange.html)
        *   [wx.onDeviceOrientationChange](../device/orientation/wx.onDeviceOrientationChange.html)
        *   [wx.offDeviceOrientationChange](../device/orientation/wx.offDeviceOrientationChange.html)
*   [文件](../file/wx.getFileSystemManager.html)
    *   [wx.getFileSystemManager](../file/wx.getFileSystemManager.html)
    *   [FileSystemManager](../file/FileSystemManager.html)
    *   [Stats](../file/Stats.html)
    *   [FileSystemManager.appendFile](../file/FileSystemManager.appendFile.html)
    *   [FileSystemManager.access](../file/FileSystemManager.access.html)
    *   [FileSystemManager.accessSync](../file/FileSystemManager.accessSync.html)
    *   [FileSystemManager.appendFileSync](../file/FileSystemManager.appendFileSync.html)
    *   [FileSystemManager.copyFile](../file/FileSystemManager.copyFile.html)
    *   [FileSystemManager.copyFileSync](../file/FileSystemManager.copyFileSync.html)
    *   [FileSystemManager.getSavedFileList](../file/FileSystemManager.getSavedFileList.html)
    *   [FileSystemManager.getFileInfo](../file/FileSystemManager.getFileInfo.html)
    *   [Stats.isDirectory](../file/Stats.isDirectory.html)
    *   [Stats.isFile](../file/Stats.isFile.html)
    *   [FileSystemManager.mkdir](../file/FileSystemManager.mkdir.html)
    *   [FileSystemManager.mkdirSync](../file/FileSystemManager.mkdirSync.html)
    *   [FileSystemManager.removeSavedFile](../file/FileSystemManager.removeSavedFile.html)
    *   [FileSystemManager.readFileSync](../file/FileSystemManager.readFileSync.html)
    *   [FileSystemManager.renameSync](../file/FileSystemManager.renameSync.html)
    *   [FileSystemManager.rmdirSync](../file/FileSystemManager.rmdirSync.html)
    *   [FileSystemManager.readdir](../file/FileSystemManager.readdir.html)
    *   [FileSystemManager.rename](../file/FileSystemManager.rename.html)
    *   [FileSystemManager.readFile](../file/FileSystemManager.readFile.html)
    *   [FileSystemManager.rmdir](../file/FileSystemManager.rmdir.html)
    *   [FileSystemManager.readdirSync](../file/FileSystemManager.readdirSync.html)
    *   [FileSystemManager.saveFile](../file/FileSystemManager.saveFile.html)
    *   [FileSystemManager.stat](../file/FileSystemManager.stat.html)
    *   [FileSystemManager.saveFileSync](../file/FileSystemManager.saveFileSync.html)
    *   [FileSystemManager.statSync](../file/FileSystemManager.statSync.html)
    *   [FileSystemManager.unlink](../file/FileSystemManager.unlink.html)
    *   [FileSystemManager.unzip](../file/FileSystemManager.unzip.html)
    *   [FileSystemManager.unlinkSync](../file/FileSystemManager.unlinkSync.html)
    *   [FileSystemManager.writeFile](../file/FileSystemManager.writeFile.html)
    *   [FileSystemManager.writeFileSync](../file/FileSystemManager.writeFileSync.html)
*   [位置](../location/wx.getLocation.html)
    *   [wx.getLocation](../location/wx.getLocation.html)
*   [网络](../network/download/wx.downloadFile.html)
    *   [下载](../network/download/wx.downloadFile.html)
        *   [wx.downloadFile](../network/download/wx.downloadFile.html)
        *   [DownloadTask](../network/download/DownloadTask.html)
        *   [DownloadTask.abort](../network/download/DownloadTask.abort.html)
        *   [DownloadTask.onProgressUpdate](../network/download/DownloadTask.onProgressUpdate.html)
    *   [发起请求](../network/request/wx.request.html)
        *   [wx.request](../network/request/wx.request.html)
        *   [RequestTask](../network/request/RequestTask.html)
        *   [RequestTask.abort](../network/request/RequestTask.abort.html)
    *   [WebSocket](../network/websocket/wx.connectSocket.html)
        *   [wx.connectSocket](../network/websocket/wx.connectSocket.html)
        *   [wx.closeSocket](../network/websocket/wx.closeSocket.html)
        *   [wx.onSocketOpen](../network/websocket/wx.onSocketOpen.html)
        *   [wx.onSocketClose](../network/websocket/wx.onSocketClose.html)
        *   [wx.onSocketMessage](../network/websocket/wx.onSocketMessage.html)
        *   [wx.onSocketError](../network/websocket/wx.onSocketError.html)
        *   [wx.sendSocketMessage](../network/websocket/wx.sendSocketMessage.html)
        *   [SocketTask](../network/websocket/SocketTask.html)
        *   [SocketTask.close](../network/websocket/SocketTask.close.html)
        *   [SocketTask.onOpen](../network/websocket/SocketTask.onOpen.html)
        *   [SocketTask.onClose](../network/websocket/SocketTask.onClose.html)
        *   [SocketTask.onError](../network/websocket/SocketTask.onError.html)
        *   [SocketTask.onMessage](../network/websocket/SocketTask.onMessage.html)
        *   [SocketTask.send](../network/websocket/SocketTask.send.html)
    *   [上传](../network/upload/wx.uploadFile.html)
        *   [wx.uploadFile](../network/upload/wx.uploadFile.html)
        *   [UploadTask](../network/upload/UploadTask.html)
        *   [UploadTask.abort](../network/upload/UploadTask.abort.html)
        *   [UploadTask.onProgressUpdate](../network/upload/UploadTask.onProgressUpdate.html)
*   [开放接口](../open-api/data/wx.getFriendCloudStorage.html)
    *   [开放数据](../open-api/data/wx.getFriendCloudStorage.html)
        *   [wx.getFriendCloudStorage](../open-api/data/wx.getFriendCloudStorage.html)
        *   [wx.getUserCloudStorage](../open-api/data/wx.getUserCloudStorage.html)
        *   [wx.getUserInfo](../open-api/data/wx.getUserInfo.html)
        *   [wx.getGroupCloudStorage](../open-api/data/wx.getGroupCloudStorage.html)
        *   [wx.getSharedCanvas](../open-api/data/wx.getSharedCanvas.html)
        *   [wx.removeUserCloudStorage](../open-api/data/wx.removeUserCloudStorage.html)
        *   [wx.setUserCloudStorage](../open-api/data/wx.setUserCloudStorage.html)
        *   [KVData](../open-api/data/KVData.html)
        *   [UserGameData](../open-api/data/UserGameData.html)
        *   [removeUserStorage](../open-api/data/removeUserStorage.html)
        *   [setUserStorage](../open-api/data/setUserStorage.html)
    *   [登录](../open-api/login/wx.checkSession.html)
        *   [wx.checkSession](../open-api/login/wx.checkSession.html)
        *   [wx.login](../open-api/login/wx.login.html)
        *   [code2accessToken](../open-api/login/code2accessToken.html)
    *   [防沉迷](../open-api/anti-addiction/wx.checkIsUserAdvisedToRest.html)
        *   [wx.checkIsUserAdvisedToRest](../open-api/anti-addiction/wx.checkIsUserAdvisedToRest.html)
    *   [用户信息](../open-api/user-info/wx.createUserInfoButton.html)
        *   [wx.createUserInfoButton](../open-api/user-info/wx.createUserInfoButton.html)
        *   [wx.getUserInfo](../open-api/user-info/wx.getUserInfo.html)
        *   [UserInfoButton](../open-api/user-info/UserInfoButton.html)
        *   [UserInfo](../open-api/user-info/UserInfo.html)
        *   [UserInfoButton.destroy](../open-api/user-info/UserInfoButton.destroy.html)
        *   [GameClubButton.destroy](../open-api/user-info/GameClubButton.destroy.html)
        *   [GameClubButton.hide](../open-api/user-info/GameClubButton.hide.html)
        *   [UserInfoButton.hide](../open-api/user-info/UserInfoButton.hide.html)
        *   [UserInfoButton.onTap](../open-api/user-info/UserInfoButton.onTap.html)
        *   [UserInfoButton.show](../open-api/user-info/UserInfoButton.show.html)
        *   [GameClubButton.show](../open-api/user-info/GameClubButton.show.html)
    *   [设置](../open-api/setting/wx.createOpenSettingButton.html)
        *   [wx.createOpenSettingButton](../open-api/setting/wx.createOpenSettingButton.html)
        *   [wx.getSetting](../open-api/setting/wx.getSetting.html)
        *   [wx.openSetting](../open-api/setting/wx.openSetting.html)
        *   [AuthSetting](../open-api/setting/AuthSetting.html)
        *   [OpenSettingButton](../open-api/setting/OpenSettingButton.html)
        *   [OpenSettingButton.destroy](../open-api/setting/OpenSettingButton.destroy.html)
        *   [OpenSettingButton.hide](../open-api/setting/OpenSettingButton.hide.html)
        *   [OpenSettingButton.show](../open-api/setting/OpenSettingButton.show.html)
    *   [微信运动](../open-api/werun/wx.getWeRunData.html)
        *   [wx.getWeRunData](../open-api/werun/wx.getWeRunData.html)
    *   [授权](../open-api/authorize/wx.authorize.html)
        *   [wx.authorize](../open-api/authorize/wx.authorize.html)
    *   [游戏圈](../open-api/game-club/wx.createGameClubButton.html)
        *   [wx.createGameClubButton](../open-api/game-club/wx.createGameClubButton.html)
        *   [GameClubButton](../open-api/game-club/GameClubButton.html)
    *   [意见反馈](../open-api/feedback/wx.createFeedbackButton.html)
        *   [wx.createFeedbackButton](../open-api/feedback/wx.createFeedbackButton.html)
        *   [FeedbackButton](../open-api/feedback/FeedbackButton.html)
        *   [FeedbackButton.destroy](../open-api/feedback/FeedbackButton.destroy.html)
        *   [FeedbackButton.hide](../open-api/feedback/FeedbackButton.hide.html)
        *   [FeedbackButton.show](../open-api/feedback/FeedbackButton.show.html)
    *   [客服消息](../open-api/customer-message/wx.openCustomerServiceConversation.html)
        *   [wx.openCustomerServiceConversation](../open-api/customer-message/wx.openCustomerServiceConversation.html)
    *   [开放数据域](../open-api/context/wx.getOpenDataContext.html)
        *   [wx.getOpenDataContext](../open-api/context/wx.getOpenDataContext.html)
        *   [wx.onMessage](../open-api/context/wx.onMessage.html)
        *   [OpenDataContext](../open-api/context/OpenDataContext.html)
        *   [OpenDataContext.postMessage](../open-api/context/OpenDataContext.postMessage.html)
    *   [接口调用凭证](../open-api/access-token/getAccessToken.html)
        *   [getAccessToken](../open-api/access-token/getAccessToken.html)
    *   [内容安全](../open-api/sec-check/imgSecCheck.html)
        *   [imgSecCheck](../open-api/sec-check/imgSecCheck.html)
        *   [msgSecCheck](../open-api/sec-check/msgSecCheck.html)
*   [转发](../share/wx.getShareInfo.html)
    *   [wx.getShareInfo](../share/wx.getShareInfo.html)
    *   [wx.hideShareMenu](../share/wx.hideShareMenu.html)
    *   [wx.onShareAppMessage](../share/wx.onShareAppMessage.html)
    *   [wx.offShareAppMessage](../share/wx.offShareAppMessage.html)
    *   [wx.showShareMenu](../share/wx.showShareMenu.html)
    *   [wx.shareAppMessage](../share/wx.shareAppMessage.html)
    *   [wx.updateShareMenu](../share/wx.updateShareMenu.html)
*   [性能](../performance/wx.getPerformance.html)
    *   [wx.getPerformance](../performance/wx.getPerformance.html)
    *   [wx.triggerGC](../performance/wx.triggerGC.html)
    *   [Performance](../performance/Performance.html)
    *   [onMemoryWarning](../performance/onMemoryWarning.html)
    *   [Performance.now](../performance/Performance.now.html)
*   [调试](../debug/wx.setEnableDebug.html)
    *   [wx.setEnableDebug](../debug/wx.setEnableDebug.html)
*   [数据缓存](../storage/wx.clearStorage.html)
    *   [wx.clearStorage](../storage/wx.clearStorage.html)
    *   [wx.clearStorageSync](../storage/wx.clearStorageSync.html)
    *   [wx.getStorage](../storage/wx.getStorage.html)
    *   [wx.getStorageInfo](../storage/wx.getStorageInfo.html)
    *   [wx.getStorageSync](../storage/wx.getStorageSync.html)
    *   [wx.getStorageInfoSync](../storage/wx.getStorageInfoSync.html)
    *   [wx.removeStorage](../storage/wx.removeStorage.html)
    *   [wx.removeStorageSync](../storage/wx.removeStorageSync.html)
    *   [wx.setStorage](../storage/wx.setStorage.html)
    *   [wx.setStorageSync](../storage/wx.setStorageSync.html)
*   [分包加载](../subpackages/wx.loadSubpackage.html)
    *   [wx.loadSubpackage](../subpackages/wx.loadSubpackage.html)
    *   [LoadSubpackageTask](../subpackages/LoadSubpackageTask.html)
    *   [LoadSubpackageTask.onProgressUpdate](../subpackages/LoadSubpackageTask.onProgressUpdate.html)
*   [界面](../ui/menu/wx.getMenuButtonBoundingClientRect.html)
    *   [菜单](../ui/menu/wx.getMenuButtonBoundingClientRect.html)
        *   [wx.getMenuButtonBoundingClientRect](../ui/menu/wx.getMenuButtonBoundingClientRect.html)
        *   [wx.setMenuStyle](../ui/menu/wx.setMenuStyle.html)
    *   [交互](../ui/interaction/wx.hideToast.html)
        *   [wx.hideToast](../ui/interaction/wx.hideToast.html)
        *   [wx.hideLoading](../ui/interaction/wx.hideLoading.html)
        *   [wx.showModal](../ui/interaction/wx.showModal.html)
        *   [wx.showToast](../ui/interaction/wx.showToast.html)
        *   [wx.showLoading](../ui/interaction/wx.showLoading.html)
        *   [wx.showActionSheet](../ui/interaction/wx.showActionSheet.html)
    *   [键盘](../ui/keyboard/wx.hideKeyboard.html)
        *   [wx.hideKeyboard](../ui/keyboard/wx.hideKeyboard.html)
        *   [wx.onKeyboardInput](../ui/keyboard/wx.onKeyboardInput.html)
        *   [wx.offKeyboardInput](../ui/keyboard/wx.offKeyboardInput.html)
        *   [wx.onKeyboardConfirm](../ui/keyboard/wx.onKeyboardConfirm.html)
        *   [wx.offKeyboardConfirm](../ui/keyboard/wx.offKeyboardConfirm.html)
        *   [wx.onKeyboardComplete](../ui/keyboard/wx.onKeyboardComplete.html)
        *   [wx.offKeyboardComplete](../ui/keyboard/wx.offKeyboardComplete.html)
        *   [wx.showKeyboard](../ui/keyboard/wx.showKeyboard.html)
        *   [wx.updateKeyboard](../ui/keyboard/wx.updateKeyboard.html)
    *   [状态栏](../ui/statusbar/wx.setStatusBarStyle.html)
        *   [wx.setStatusBarStyle](../ui/statusbar/wx.setStatusBarStyle.html)
    *   [窗口](../ui/window/wx.onWindowResize.html)
        *   [wx.onWindowResize](../ui/window/wx.onWindowResize.html)
        *   [wx.offWindowResize](../ui/window/wx.offWindowResize.html)
*   [更新](../update/wx.getUpdateManager.html)
    *   [wx.getUpdateManager](../update/wx.getUpdateManager.html)
    *   [UpdateManager](../update/UpdateManager.html)
    *   [UpdateManager.applyUpdate](../update/UpdateManager.applyUpdate.html)
    *   [UpdateManager.onCheckForUpdate](../update/UpdateManager.onCheckForUpdate.html)
    *   [UpdateManager.onUpdateReady](../update/UpdateManager.onUpdateReady.html)
    *   [UpdateManager.onUpdateFailed](../update/UpdateManager.onUpdateFailed.html)
*   [Worker](../worker/wx.createWorker.html)
    *   [wx.createWorker](../worker/wx.createWorker.html)
    *   [Worker](../worker/Worker.html)
    *   [Worker.onMessage](../worker/Worker.onMessage.html)
    *   [Worker.postMessage](../worker/Worker.postMessage.html)
    *   [Worker.terminate](../worker/Worker.terminate.html)
*   [媒体](../media/audio/wx.createInnerAudioContext.html)
    *   [音频](../media/audio/wx.createInnerAudioContext.html)
        *   [wx.createInnerAudioContext](../media/audio/wx.createInnerAudioContext.html)
        *   [wx.getAvailableAudioSources](../media/audio/wx.getAvailableAudioSources.html)
        *   [InnerAudioContext](../media/audio/InnerAudioContext.html)
        *   [InnerAudioContext.destroy](../media/audio/InnerAudioContext.destroy.html)
        *   [InnerAudioContext.offCanplay](../media/audio/InnerAudioContext.offCanplay.html)
        *   [InnerAudioContext.offPause](../media/audio/InnerAudioContext.offPause.html)
        *   [InnerAudioContext.offStop](../media/audio/InnerAudioContext.offStop.html)
        *   [InnerAudioContext.onEnded](../media/audio/InnerAudioContext.onEnded.html)
        *   [InnerAudioContext.offEnded](../media/audio/InnerAudioContext.offEnded.html)
        *   [InnerAudioContext.onTimeUpdate](../media/audio/InnerAudioContext.onTimeUpdate.html)
        *   [InnerAudioContext.offTimeUpdate](../media/audio/InnerAudioContext.offTimeUpdate.html)
        *   [InnerAudioContext.onPlay](../media/audio/InnerAudioContext.onPlay.html)
        *   [InnerAudioContext.offError](../media/audio/InnerAudioContext.offError.html)
        *   [InnerAudioContext.onStop](../media/audio/InnerAudioContext.onStop.html)
        *   [InnerAudioContext.offWaiting](../media/audio/InnerAudioContext.offWaiting.html)
        *   [InnerAudioContext.onSeeking](../media/audio/InnerAudioContext.onSeeking.html)
        *   [InnerAudioContext.offSeeking](../media/audio/InnerAudioContext.offSeeking.html)
        *   [InnerAudioContext.onSeeked](../media/audio/InnerAudioContext.onSeeked.html)
        *   [InnerAudioContext.offSeeked](../media/audio/InnerAudioContext.offSeeked.html)
        *   [InnerAudioContext.onPause](../media/audio/InnerAudioContext.onPause.html)
        *   [InnerAudioContext.offPlay](../media/audio/InnerAudioContext.offPlay.html)
        *   [InnerAudioContext.onError](../media/audio/InnerAudioContext.onError.html)
        *   [InnerAudioContext.onCanplay](../media/audio/InnerAudioContext.onCanplay.html)
        *   [InnerAudioContext.onWaiting](../media/audio/InnerAudioContext.onWaiting.html)
        *   [InnerAudioContext.pause](../media/audio/InnerAudioContext.pause.html)
        *   [InnerAudioContext.play](../media/audio/InnerAudioContext.play.html)
        *   [InnerAudioContext.stop](../media/audio/InnerAudioContext.stop.html)
        *   [InnerAudioContext.seek](../media/audio/InnerAudioContext.seek.html)
    *   [录音](../media/recorder/wx.getRecorderManager.html)
        *   [wx.getRecorderManager](../media/recorder/wx.getRecorderManager.html)
        *   [RecorderManager](../media/recorder/RecorderManager.html)
        *   [RecorderManager.onStop](../media/recorder/RecorderManager.onStop.html)
        *   [RecorderManager.onPause](../media/recorder/RecorderManager.onPause.html)
        *   [RecorderManager.onInterruptionEnd](../media/recorder/RecorderManager.onInterruptionEnd.html)
        *   [RecorderManager.onStart](../media/recorder/RecorderManager.onStart.html)
        *   [RecorderManager.onResume](../media/recorder/RecorderManager.onResume.html)
        *   [RecorderManager.onInterruptionBegin](../media/recorder/RecorderManager.onInterruptionBegin.html)
        *   [RecorderManager.onError](../media/recorder/RecorderManager.onError.html)
        *   [RecorderManager.onFrameRecorded](../media/recorder/RecorderManager.onFrameRecorded.html)
        *   [RecorderManager.pause](../media/recorder/RecorderManager.pause.html)
        *   [RecorderManager.resume](../media/recorder/RecorderManager.resume.html)
        *   [RecorderManager.start](../media/recorder/RecorderManager.start.html)
        *   [RecorderManager.stop](../media/recorder/RecorderManager.stop.html)
    *   [图片](../media/image/wx.chooseImage.html)
        *   [wx.chooseImage](../media/image/wx.chooseImage.html)
        *   [wx.previewImage](../media/image/wx.previewImage.html)
        *   [wx.saveImageToPhotosAlbum](../media/image/wx.saveImageToPhotosAlbum.html)
        *   [ImageFile](../media/image/ImageFile.html)
    *   [视频](../media/video/wx.createVideo.html)
        *   [wx.createVideo](../media/video/wx.createVideo.html)
        *   [Video](../media/video/Video.html)
        *   [Video.exitFullScreen](../media/video/Video.exitFullScreen.html)
        *   [Video.onError](../media/video/Video.onError.html)
        *   [Video.offPlay](../media/video/Video.offPlay.html)
        *   [Video.onPause](../media/video/Video.onPause.html)
        *   [Video.offPause](../media/video/Video.offPause.html)
        *   [Video.onEnded](../media/video/Video.onEnded.html)
        *   [Video.offEnded](../media/video/Video.offEnded.html)
        *   [Video.onTimeUpdate](../media/video/Video.onTimeUpdate.html)
        *   [Video.onWaiting](../media/video/Video.onWaiting.html)
        *   [Video.onPlay](../media/video/Video.onPlay.html)
        *   [Video.offError](../media/video/Video.offError.html)
        *   [Video.offWaiting](../media/video/Video.offWaiting.html)
        *   [Video.offTimeUpdate](../media/video/Video.offTimeUpdate.html)
        *   [Video.pause](../media/video/Video.pause.html)
        *   [Video.play](../media/video/Video.play.html)
        *   [Video.requestFullScreen](../media/video/Video.requestFullScreen.html)
        *   [Video.stop](../media/video/Video.stop.html)
        *   [Video.seek](../media/video/Video.seek.html)
*   [开放数据域](../context/onMessage.html)
    *   [onMessage](../context/onMessage.html)
    *   [postMessage](../context/postMessage.html)
*   [定时器](../timer/clearTimeout.html)
    *   [clearTimeout](../timer/clearTimeout.html)
    *   [clearInterval](../timer/clearInterval.html)
    *   [setTimeout](../timer/setTimeout.html)
    *   [setInterval](../timer/setInterval.html)
*   [虚拟支付](wx.requestMidasPayment.html)
    *   [wx.requestMidasPayment](wx.requestMidasPayment.html)
    *   [midasCancelPay](midasCancelPay.html)
    *   [midasGetBalance](midasGetBalance.html)
    *   [midasPay](midasPay.html)
    *   [midasPresent](midasPresent.html)

</nav>

</div>

<div class="book-body">

<div class="body-inner">

<div class="page-wrapper" tabindex="-1" role="main">

<div class="page-inner">

<div id="book-search-results">

<div class="search-noresults">

<section class="normal markdown-section">

### midasPay

开通了虚拟支付的小游戏，可以通过本接口扣除某个用户的游戏币。 **由于可能存在接口调用超时或返回系统失败，但是游戏币实际已经扣除的情况，所以当该接口返回系统失败时，可以用相同的bill_no再次调用本接口，直到返回非系统失败为止，不会重复扣款，也可以调用取消支付接口取消本次扣款。**

#### 正式环境

    POST https://api.weixin.qq.com/cgi-bin/midas/pay?access_token=ACCESS_TOKEN

#### 沙箱环境

    POST https://api.weixin.qq.com/cgi-bin/midas/sandbox/pay?access_token=ACCESS_TOKEN

#### 参数

<table>

<thead>

<tr>

<th>参数</th>

<th>类型</th>

<th>默认值</th>

<th>是否必填</th>

<th>说明</th>

</tr>

</thead>

<tbody>

<tr>

<td>openid</td>

<td>string</td>

<td></td>

<td>是</td>

<td>用户唯一标识符</td>

</tr>

<tr>

<td>appid</td>

<td>string</td>

<td></td>

<td>是</td>

<td>小程序 appId</td>

</tr>

<tr>

<td>offer_id</td>

<td>string</td>

<td></td>

<td>是</td>

<td>米大师分配的offer_id</td>

</tr>

<tr>

<td>ts</td>

<td>number</td>

<td></td>

<td>是</td>

<td>UNIX 时间戳，单位是秒</td>

</tr>

<tr>

<td>zone_id</td>

<td>string</td>

<td></td>

<td>是</td>

<td>游戏服务器大区id,游戏不分大区则默认zoneId ="1",String类型。如过应用选择支持角色，则角色ID接在分区ID号后用"_"连接。</td>

</tr>

<tr>

<td>pf</td>

<td>string</td>

<td></td>

<td>是</td>

<td>平台 安卓：android</td>

</tr>

<tr>

<td>user_ip</td>

<td>string</td>

<td></td>

<td>否</td>

<td>用户外网 IP</td>

</tr>

<tr>

<td>amt</td>

<td>number</td>

<td></td>

<td>是</td>

<td>扣除游戏币数量，不能为 0</td>

</tr>

<tr>

<td>bill_no</td>

<td>string</td>

<td></td>

<td>是</td>

<td>订单号，业务需要保证全局唯一；相同的订单号不会重复扣款。长度不超过63，只能是数字、大小写字母_-</td>

<td>*@</td>

</tr>

<tr>

<td>pay_item</td>

<td>string</td>

<td></td>

<td>否</td>

<td>道具名称</td>

</tr>

<tr>

<td>app_remark</td>

<td>string</td>

<td></td>

<td>否</td>

<td>备注。会写到账户流水</td>

</tr>

<tr>

<td>sig</td>

<td>string</td>

<td></td>

<td>是</td>

<td>以上所有参数（含可选最多11个）+uri+米大师密钥，用 HMAC-SHA256签名，详见 [米大师支付签名算法](../../tutorial/open-ability/midas-signature.html)</td>

</tr>

<tr>

<td>access_token</td>

<td>string</td>

<td></td>

<td>是</td>

<td>接口调用凭证</td>

</tr>

<tr>

<td>mp_sig</td>

<td>string</td>

<td></td>

<td>是</td>

<td>以上所有参数（含可选最多13个）+uri+session_key，用 HMAC-SHA256签名，详见 [米大师支付签名算法](../../tutorial/open-ability/midas-signature.html)</td>

</tr>

</tbody>

</table>

#### 返回值

<table>

<thead>

<tr>

<th>参数</th>

<th>类型</th>

<th>说明</th>

</tr>

</thead>

<tbody>

<tr>

<td>errcode</td>

<td>number</td>

<td>错误码</td>

</tr>

<tr>

<td>errmsg</td>

<td>number</td>

<td>错误信息</td>

</tr>

<tr>

<td>bill_no</td>

<td>string</td>

<td>订单号，有效期是 48 小时</td>

</tr>

<tr>

<td>balance</td>

<td>number</td>

<td>预扣后的余额</td>

</tr>

<tr>

<td>used_gen_balance</td>

<td>number</td>

<td>本次扣的赠送币的余额</td>

</tr>

</tbody>

</table>

**errcode 的合法值**

<table>

<thead>

<tr>

<th>值</th>

<th>说明</th>

</tr>

</thead>

<tbody>

<tr>

<td>0</td>

<td>请求成功</td>

</tr>

<tr>

<td>-1</td>

<td>系统繁忙，此时请开发者稍候再试</td>

</tr>

<tr>

<td>90009</td>

<td>mp_sig签名错误</td>

</tr>

<tr>

<td>90010</td>

<td>用户未登录或登录态已过期</td>

</tr>

<tr>

<td>90011</td>

<td>sig签名错误</td>

</tr>

<tr>

<td>90012</td>

<td>订单已存在</td>

</tr>

<tr>

<td>90013</td>

<td>余额不足</td>

</tr>

<tr>

<td>90017</td>

<td>没有调用接口的权限</td>

</tr>

<tr>

<td>90018</td>

<td>参数错误</td>

</tr>

</tbody>

</table>

#### POST 数据格式：JSON

     {
         "openid":"odkx20ENSNa2w5y3g_qOkOvBNM1g",
         "appid":"wx1234567",
         "offer_id":"12345678",
         "ts":1507530737,
         "zone_id":"1",
         "pf":"android",
         "amt":123,
         "bill_no":"BillNo_123",
         "sig":"f705c7351830125282ffc6d3c22c81db19b50a748f60f7c8f267e59152941d83",
         "mp_sig":"168704ac52eea6da27e0d76fd659cd8d628457dd680459a57365e17c0f40de4a"
     }

</section>

</div>

<div class="search-results">

<div class="has-results">

# <span class="search-results-count"></span>个结果 "<span class="search-query"></span>"

</div>

<div class="no-results">

# 没有找到相关内容 "<span class="search-query"></span>"

</div>

</div>

</div>

</div>

</div>

<div class="foot" id="footer">

*   [关于腾讯](http://www.tencent.com/zh-cn/index.shtml)
*   [文档中心](https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=1484641676)
*   [辟谣中心](https://mp.weixin.qq.com/cgi-bin/opshowpage?action=dispelinfo&lang=zh_CN&begin=1&count=9)
*   [客服中心](http://kf.qq.com/faq/120911VrYVrA1509086vyumm.html)
*   [联系邮箱](mailto:weixinmp@qq.com)
*   Copyright © 2012-<span id="s_copyright_year"></span> Tencent. All Rights Reserved.

</div>

</div>

[](midasGetBalance.html)[](midasPresent.html)</div>

</div>